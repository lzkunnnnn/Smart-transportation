<template>
  <div>
  <a-table :dataSource="tableData" :pagination="false" :columns="columns">
    <span slot="operation">
      <a>ç¼–è¾‘</a>
      <a-divider type="vertical" />
      <a>ä¿å­˜</a>
    </span>
  </a-table>
  </div>
</template>
<script>

export default {
  name: "taskTable",
  // props:['afterTransferContent'],
  data() {
    return {
      tableData: [{
        key: "",
        id:"",
        taskType:"",
        taskContent: "",
        taskOrigin: "",
        address: "",
        time: "",
        taskStatus:"",
        reporter: "",
        handler:"",
      },
      ],
      columns: [
        {
          title: "äº‹ä»¶ç¼–å·",
          dataIndex: "id",
          key: "id"
        },
        {
          title: "äº‹ä»¶ç±»å‹",
          dataIndex: "taskType",
          key: "taskType"
        },
        {
          title: "äº‹ä»¶å†…å®¹",
          dataIndex: "taskContent",
          key: "taskContent"
        },
        {
          title: "äº‹ä»¶æ¥æº",
          dataIndex: "taskOrigin",
          key: "taskOrigin"
        },
        {
          title: "ä½ç½®",
          dataIndex: "address",
          key: "address"
        },
        {
          title: "åˆ›å»ºæ—¶é—´",
          dataIndex: "time",
          key: "time"
        },
        {
          title: "äº‹ä»¶çŠ¶æ€",
          dataIndex: "taskStatus",
          key: "taskStatus"
        },
        {
          title: "ä¸ŠæŠ¥äºº",
          dataIndex: "reporter",
          key: "reporter"
        },
        {
          title: "å¤„ç†äºº",
          dataIndex: "handler",
          key: "handler"
        },
        {
          title: 'æ“ä½œ',
          key: 'operation',
          scopedSlots: { customRender: 'operation' },
        },
      ],
    };
  },

  methods:{
    getNLPData(content){
      var index = 1
      console.log("getNLPData"+content.person)
      this.tableData.push({
            key: index,
            id:content.log_id,
            taskType:"äºŒçº§",
            taskContent: content.detail,
            taskOrigin: content.person,
            address: content.city+content.county+content.town,
            time: this.getCurrentTime(),
            taskStatus:"ğŸ”´å¾…å¤„ç†",
            reporter: content.person,
            handler:"æœªçŸ¥",
      })
      index=index+1
    },

    clearData(){
      this.tableData=[]
    },

    getCurrentTime() {
      //è·å–å½“å‰æ—¶é—´å¹¶æ‰“å°
      var _this = this;
      let yy = new Date().getFullYear();
      let mm = new Date().getMonth()+1;
      let dd = new Date().getDate();
      let hh = new Date().getHours();
      let mf = new Date().getMinutes()<10 ? '0'+new Date().getMinutes() : new Date().getMinutes();
      let ss = new Date().getSeconds()<10 ? '0'+new Date().getSeconds() : new Date().getSeconds();
      _this.gettime = yy+'-'+mm+'-'+dd+' '+hh+':'+mf+':'+ss;
      return _this.gettime;
    }
  }
};

</script>
